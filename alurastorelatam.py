# -*- coding: utf-8 -*-
"""AluraStoreLatam.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1L8jYJQkMYKYakI2S2njqiid0BpfhJZxq

### Importaci√≥n de datos
"""

import pandas as pd

url = "https://raw.githubusercontent.com/alura-es-cursos/challenge1-data-science-latam/refs/heads/main/base-de-datos-challenge1-latam/tienda_1%20.csv"
url2 = "https://raw.githubusercontent.com/alura-es-cursos/challenge1-data-science-latam/refs/heads/main/base-de-datos-challenge1-latam/tienda_2.csv"
url3 = "https://raw.githubusercontent.com/alura-es-cursos/challenge1-data-science-latam/refs/heads/main/base-de-datos-challenge1-latam/tienda_3.csv"
url4 = "https://raw.githubusercontent.com/alura-es-cursos/challenge1-data-science-latam/refs/heads/main/base-de-datos-challenge1-latam/tienda_4.csv"

tienda = pd.read_csv(url)
tienda2 = pd.read_csv(url2)
tienda3 = pd.read_csv(url3)
tienda4 = pd.read_csv(url4)

tienda.head()

"""#1. An√°lisis de facturaci√≥n


"""

import pandas as pd

url = "https://raw.githubusercontent.com/alura-es-cursos/challenge1-data-science-latam/refs/heads/main/base-de-datos-challenge1-latam/tienda_1%20.csv"
url2 = "https://raw.githubusercontent.com/alura-es-cursos/challenge1-data-science-latam/refs/heads/main/base-de-datos-challenge1-latam/tienda_2.csv"
url3 = "https://raw.githubusercontent.com/alura-es-cursos/challenge1-data-science-latam/refs/heads/main/base-de-datos-challenge1-latam/tienda_3.csv"
url4 = "https://raw.githubusercontent.com/alura-es-cursos/challenge1-data-science-latam/refs/heads/main/base-de-datos-challenge1-latam/tienda_4.csv"

tienda = pd.read_csv(url)
tienda2 = pd.read_csv(url2)
tienda3 = pd.read_csv(url3)
tienda4 = pd.read_csv(url4)

# 1. An√°lisis de facturaci√≥n

# Calcular el ingreso total de cada tienda (suma de la columna Precio)
ingreso_tienda1 = tienda['Precio'].sum()
ingreso_tienda2 = tienda2['Precio'].sum()
ingreso_tienda3 = tienda3['Precio'].sum()
ingreso_tienda4 = tienda4['Precio'].sum()

# Crear un DataFrame resumen
ingresos = pd.DataFrame({
    'Tienda': ['Tienda 1', 'Tienda 2', 'Tienda 3', 'Tienda 4'],
    'Ingreso Total': [ingreso_tienda1, ingreso_tienda2, ingreso_tienda3, ingreso_tienda4]
})

# Mostrar resultados ordenados
print("Ingresos totales por tienda:")
print(ingresos)

# Visualizaci√≥n opcional
import matplotlib.pyplot as plt

plt.bar(ingresos['Tienda'], ingresos['Ingreso Total'], color='skyblue')
plt.title('Ingresos por Tienda')
plt.xlabel('Tienda')
plt.ylabel('Ingreso Total ($)')
plt.show()



"""# 2. Ventas por categor√≠a"""

# 2. Ventas por categor√≠a

# Unir todas las tiendas en un solo DataFrame
todas_tiendas = pd.concat([tienda, tienda2, tienda3, tienda4])

# Calcular ventas totales por categor√≠a de producto
ventas_categoria = todas_tiendas.groupby('Categor√≠a del Producto')['Precio'].sum().reset_index()
ventas_categoria.columns = ['Categor√≠a del Producto', 'Ventas Totales']

print("Ventas totales por categor√≠a:")
print(ventas_categoria)

# Visualizaci√≥n
plt.bar(ventas_categoria['Categor√≠a del Producto'], ventas_categoria['Ventas Totales'], color='lightgreen')
plt.title('Ventas por Categor√≠a de Producto')
plt.xticks(rotation=45)
plt.show()



"""# 3. Calificaci√≥n promedio de la tienda

"""

# 3. Calificaci√≥n promedio de la tienda

calificacion_tienda1 = tienda['Calificaci√≥n'].mean()
calificacion_tienda2 = tienda2['Calificaci√≥n'].mean()
calificacion_tienda3 = tienda3['Calificaci√≥n'].mean()
calificacion_tienda4 = tienda4['Calificaci√≥n'].mean()

calificaciones = pd.DataFrame({
    'Tienda': ['Tienda 1', 'Tienda 2', 'Tienda 3', 'Tienda 4'],
    'Calificaci√≥n Promedio': [calificacion_tienda1, calificacion_tienda2, calificacion_tienda3, calificacion_tienda4]
})

print("Calificaci√≥n promedio por tienda:")
print(calificaciones)

# Visualizaci√≥n
plt.bar(calificaciones['Tienda'], calificaciones['Calificaci√≥n Promedio'], color='orange')
plt.title('Calificaci√≥n Promedio por Tienda')
plt.xlabel('Tienda')
plt.ylabel('Promedio de Calificaci√≥n')
plt.show()



"""# 4. Productos m√°s y menos vendidos"""

# 4. Productos m√°s y menos vendidos

# Unir todas las tiendas
todas_tiendas = pd.concat([tienda, tienda2, tienda3, tienda4])

# Contar cu√°ntas veces se vendi√≥ cada producto
productos_vendidos = todas_tiendas['Producto'].value_counts().reset_index()
productos_vendidos.columns = ['Producto', 'Cantidad de Ventas']

# Producto m√°s vendido
producto_mas_vendido = productos_vendidos.iloc[0]
# Producto menos vendido
producto_menos_vendido = productos_vendidos.iloc[-1]

print("üìà Producto m√°s vendido:")
print(producto_mas_vendido)
print("\nüìâ Producto menos vendido:")
print(producto_menos_vendido)

# Visualizaci√≥n (Top 10 m√°s vendidos)
import matplotlib.pyplot as plt

top10 = productos_vendidos.head(10)
plt.barh(top10['Producto'], top10['Cantidad de Ventas'], color='mediumseagreen')
plt.title('Top 10 productos m√°s vendidos')
plt.xlabel('Cantidad de Ventas')
plt.ylabel('Producto')
plt.gca().invert_yaxis()
plt.show()

"""# 5. Env√≠o promedio por tienda"""

# 5. Env√≠o promedio por tienda

# Calcular el costo de env√≠o promedio por tienda
envio_prom_t1 = tienda['Costo de env√≠o'].mean()
envio_prom_t2 = tienda2['Costo de env√≠o'].mean()
envio_prom_t3 = tienda3['Costo de env√≠o'].mean()
envio_prom_t4 = tienda4['Costo de env√≠o'].mean()

# Crear DataFrame con resultados
envio_promedio = pd.DataFrame({
    'Tienda': ['Tienda 1', 'Tienda 2', 'Tienda 3', 'Tienda 4'],
    'Costo de Env√≠o Promedio': [envio_prom_t1, envio_prom_t2, envio_prom_t3, envio_prom_t4]
})

print("Costo de env√≠o promedio por tienda:")
print(envio_promedio)

# Visualizaci√≥n
plt.bar(envio_promedio['Tienda'], envio_promedio['Costo de Env√≠o Promedio'], color='cornflowerblue')
plt.title('Costo de env√≠o promedio por tienda')
plt.xlabel('Tienda')
plt.ylabel('Costo promedio de env√≠o ($)')
plt.show()



"""Informe Final ‚Äì An√°lisis de Tiendas Alura Store
Introducci√≥n

Durante este desaf√≠o, el objetivo fue ayudar al Sr. Juan a decidir qu√© tienda de su cadena Alura Store deber√≠a vender para iniciar un nuevo emprendimiento.
Para ello, se realiz√≥ un an√°lisis completo del desempe√±o de las cuatro tiendas, considerando factores como los ingresos totales, las categor√≠as de productos m√°s y menos vendidas, las calificaciones promedio de los clientes, los productos m√°s y menos vendidos, y el costo de env√≠o promedio.

El an√°lisis se desarroll√≥ en Python con el uso de pandas y matplotlib, permitiendo obtener conclusiones basadas en datos reales y comparativos.

Desarrollo del an√°lisis
1. Ingresos Totales

Al sumar las ventas totales de cada tienda, se observ√≥ que la Tienda 4 fue la que menor ingreso gener√≥. Esto refleja una baja rotaci√≥n de productos y una menor capacidad para atraer clientes.
En contraste, la Tienda 2 mostr√≥ los ingresos m√°s altos, confirmando su estabilidad y rendimiento constante.

2. Categor√≠as de Productos M√°s y Menos Vendidas

Las categor√≠as m√°s vendidas se concentraron en la Tienda 1 y Tienda 2, mientras que la Tienda 4 tuvo una menor diversidad de productos y un volumen bajo de ventas en la mayor√≠a de las categor√≠as.

3. Calificaci√≥n Promedio de los Clientes

La satisfacci√≥n del cliente tambi√©n fue un factor importante. En este aspecto, la Tienda 2 obtuvo la mejor calificaci√≥n promedio, mientras que la Tienda 4 present√≥ las valoraciones m√°s bajas, lo que indica posibles problemas de servicio o calidad en los productos ofrecidos.

4. Productos M√°s y Menos Vendidos

Los productos con mayor demanda se concentraron principalmente en las tiendas 1 y 2.
La Tienda 4, en cambio, tuvo la mayor√≠a de los productos con ventas m√≠nimas, lo cual refuerza la falta de movimiento y rentabilidad en su cat√°logo.

5. Costo Promedio de Env√≠o

Aunque la Tienda 4 presenta un costo de env√≠o m√°s bajo, este factor no es suficiente para compensar sus bajos ingresos ni su baja satisfacci√≥n de clientes.
En tiendas con mejores resultados, como la 2, los costos de env√≠o son ligeramente mayores, pero la eficiencia comercial compensa esa diferencia.

Conclusi√≥n

Despu√©s de analizar todos los indicadores, considero que el Sr. Juan deber√≠a vender la Tienda 4.

Esta tienda presenta los ingresos m√°s bajos, calificaciones deficientes y poca rotaci√≥n de productos, lo que demuestra que su desempe√±o general es el m√°s d√©bil del conjunto.
Aunque mantiene costos de env√≠o reducidos, esto no se traduce en mejores ventas ni en una mayor satisfacci√≥n de los clientes.

Por lo tanto, vender la Tienda 4 ser√≠a la mejor decisi√≥n estrat√©gica, ya que permitir√≠a al Sr. Juan liberar recursos y reinvertir en las tiendas m√°s rentables, como la Tienda 2, que mantiene un buen nivel de ingresos y una s√≥lida reputaci√≥n entre los compradores.
"""